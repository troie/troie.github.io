"use strict";define(["jquery","modules/debounce"],function(n,i){var s=n(".js-sidebar"),o=n(".js-pinnedUpcomingCoursesContainer",s),e=n(".js-pinnedUpcomingCourses",o),t=parseInt(e.data("courses"))||0,r=n(window),a=s.height();window.currentUser.animationStartingPoint=window.currentUser.animationStartingPoint||3e3;var d=e.find(".js-card").filter(":first").height(),u=n(".js-sidebarNotPinnedSection",s).length>0?n(".js-sidebarNotPinnedSection",s).height():0;function c(){e.height(a-u),require(["pin"],function(){e.pin({containerSelector:".js-pinnedUpcomingCoursesContainer",minWidth:940,padding:{top:64}})})}function h(){var i=n(window).scrollTop(),s=window.currentUser.animationStartingPoint;i>s&&!o.hasClass("showLastCourse")?o.addClass("showLastCourse").removeClass("showFirstCourse"):i<s&&!o.hasClass("showFirstCourse")&&o.addClass("showFirstCourse").removeClass("showLastCourse")}function l(){var i=n(".js-publicationContent"),s=e.data("pin"),o=i.height();s&&s.to!==o&&(s.to=o-d,e.data("pin",s))}return{initializePinnedCardsBehaviorAndAnimations:function(){var s=window.currentUser.isGuest(),e="show"===n("#show-upcoming-courses").val();(s||e)&&(c(),l(),t>1&&(r.on("scroll",h),o.addClass("animationsInitialized"))),r.on("resize",c).on("scroll",i(l,100))},pinCards:c}});