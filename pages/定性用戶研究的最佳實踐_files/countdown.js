"use strict";var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}define([],function(){return function(){function e(t){_classCallCheck(this,e);var n={dateStart:new Date,dateEnd:new Date((new Date).getTime()+864e5),onStart:null,onTick:null,onEnd:null,initialize:!0,interval:1e3};this.config=Object.assign({},n,t),this.started=!1,this.interval=this.config.interval,this.patterns=[{pattern:"{years}",secs:31536e3},{pattern:"{months}",secs:2628e3},{pattern:"{weeks}",secs:604800},{pattern:"{days}",secs:86400},{pattern:"{hours}",secs:3600},{pattern:"{minutes}",secs:60},{pattern:"{seconds}",secs:1}],!1!==this.initialize&&this.initialize()}return _createClass(e,[{key:"initialize",value:function(){this.isOver()?this.callback("end"):this.run()}},{key:"isStarted",value:function(){return e.seconds(new Date)>=e.seconds(this.config.dateStart)}},{key:"isOver",value:function(){return e.seconds(new Date)>=e.seconds(this.config.dateEnd)}},{key:"run",value:function(){var t=this,n=Math.abs(e.seconds(this.config.dateEnd)-e.seconds(new Date));this.isStarted()&&this.display(n);var i=window.setInterval(function(){(n-=t.interval/1e3)<=0?(window.clearInterval(i),t.callback("end")):t.isStarted()&&(t.started||(t.callback("start"),t.started=!0),t.display(n))},this.interval)}},{key:"display",value:function(e){var t={};this.patterns.forEach(function(n){var i=n.pattern.match(/\{(.*?)\b\}/),a=Math.floor(e/n.secs);e-=a*n.secs,t[i[1]]=a}),null!==this.config.onTick&&this.config.onTick(t)}},{key:"callback",value:function(e){var t,n=(t=e).charAt(0).toUpperCase()+t.slice(1);"function"==typeof this.config["on"+n]&&this.config["on"+n](),"function"==typeof jQuery&&jQuery(this.config.selector).trigger("countdown"+n)}}],[{key:"seconds",value:function(e){return e.getTime()/1e3}}]),e}()});