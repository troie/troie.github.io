"use strict";function _classCallCheck(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}define(["jquery"],function(i){var t=void 0,o=0,s=void 0,n=function i(t,o,s){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,e=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};_classCallCheck(this,i),this.options=new function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,i),this.tapToDismiss=t.tapToDismiss||!1,this.socialSignalClass=t.socialSignalClass||"socialSignal",this.containerId=t.containerId||"socialSignalsContainer",this.showMethod=t.showMethod||"fadeIn",this.showDuration=t.showDuration||300,this.showEasing=t.showEasing||"swing",this.onShown=t.onShown||void 0,this.hideMethod=t.hideMethod||"fadeOut",this.hideDuration=t.hideDuration||250,this.hideEasing=t.hideEasing||"swing",this.onHidden=t.onHidden||void 0,this.closeMethod=t.closeMethod||"slideUp",this.onClose=t.onClose||void 0,this.extendedTimeOut=t.extendedTimeOut||1e3,this.iconClass=t.iconClass||"fa fa-info-circle",this.positionClass=t.positionClass||"socialSignalsContainer__bottomCenter",this.timeOut=t.timeOut||6500,this.messageClass=t.messageClass||"socialSignal__message",this.targetSelector=t.target||"body",this.closeButton=t.closeButton||!0,this.closeHtml=t.closeHtml||'<button type="button">&times;</button>',this.newestOnTop=t.newestOnTop||!1,this.preventDuplicates=t.preventDuplicates||!0,this.onclick=t.onclick||null,this.iconClasses={info:"fa fa-info-circle"}}(e),this.id=t,this.type=o,this.message=s,this.iconClass=n||this.options.iconClasses[o]};function e(t,o){if(i(window).width()<=640)return 0;var s=i(t);return s.offset().left+s.width()-o.width()-parseInt(s.css("padding-right"))}function a(a,l){var c,d,h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,p=arguments[3],r=new n(o+=1,a,l,h,p);if((t=i("#"+r.options.containerId)).length||(c=r.options,(t=i("<div/>").attr("id",c.containerId).addClass(c.positionClass).attr("aria-live","polite").attr("role","alert")).appendTo(i(c.targetSelector)),t.css({left:e(c.targetSelector,t)})),d=r,s&&d.options.preventDuplicates&&d.message===s.message&&d.type===s.type?(s=d,1):(s=d,0))return null;var u=i("<div/>"),g=i("<i/>"),C=i("<div/>"),f=i(r.options.closeHtml),v={socialSignalId:o,state:"visible",startTime:new Date,options:r.options};function w(){var o=arguments.length>0&&void 0!==arguments[0]&&arguments[0];i(":focus",u).length&&!o||u[r.options.hideMethod]({duration:r.options.hideDuration,easing:r.options.hideEasing,complete:function(){var i;(i=u).is(":visible")||(t=i.parent(),i.remove(),i=null,0===t.children().length&&(t.remove(),s=void 0)),r.options.onHidden&&"hidden"!==v.state&&r.options.onHidden(),v.state="hidden",v.endTime=new Date}})}return u.addClass(r.options.socialSignalClass),r.iconClass&&(g.addClass("socialSignal__icon").addClass(r.iconClass),u.append(g)),l&&(C.append(l).addClass(r.options.messageClass),u.append(C)),r.options.closeButton&&(f.addClass("socialSignal__closeButton").attr("role","button"),u.append(f)),r.options.newestOnTop?t.prepend(u):t.append(u),u.hide(),u[r.options.showMethod]({duration:r.options.showDuration,easing:r.options.showEasing,complete:r.options.onShown}),r.options.timeOut>0&&setTimeout(w,r.options.timeOut),i(window).resize(function(){t.css("left",e(r.options.targetSelector,t))}),!r.options.onclick&&r.options.tapToDismiss&&u.click(w),r.options.closeButton&&f&&f.click(function(i){i.stopPropagation?i.stopPropagation():void 0!==i.cancelBubble&&!0!==i.cancelBubble&&(i.cancelBubble=!0),w(!0),r.options.onClose&&r.options.onClose()}),r.options.onclick&&u.click(function(){r.options.onclick(),w()}),u}return{info:function(i,t){return a("info",i,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}}});