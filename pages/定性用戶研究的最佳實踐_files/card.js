"use strict";require(["require.config"],function(){require(["jquery","modules/alert","modules/cookie","modules/countdown","waypoints.inview","foundation.reveal"],function(e,d,n,s){function i(d,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=new Date,t=Math.floor((n.getTime()-a.getTime())/864e5)+1,c=["day","hour","minute","second"],o="",r=1e3;t>=3&&(c=["day"],o="flexible-countdown",r=36e5),new s({element:d,dateEnd:n,msgAfter:"",interval:r,onTick:function(n){var s=function(d,n){var s=n.weeks,i=n.days,a=n.hours,t=n.minutes,c=n.seconds,o=e("<div></div>"),r=e("<div></div>",{class:"flex clock"}),l=e('<div class="box clock-item day"><div class="number">'+(i+=7*s)+'</div><div class="unit">'+(1===i?"day":"days")+"</div></div>");-1===d.indexOf("day")&&l.addClass("u-hidden");var u=e('<div class="box clock-item hour"><div class="number">'+(a<=9?"0"+a:a)+'</div><div class="unit">'+(1===a?"hr":"hrs")+"</div></div>");-1===d.indexOf("hour")&&u.addClass("u-hidden");var v=e('<div class="box clock-item minute"><div class="number">'+(t<=9?"0"+t:t)+'</div><div class="unit">'+(1===t?"min":"mins")+"</div></div>");-1===d.indexOf("minute")&&v.addClass("u-hidden");var f=e('<div class="box clock-item second"><div class="number">'+(c<=9?"0"+c:c)+'</div><div class="unit">'+(1===c?"sec":"secs")+"</div></div>");return-1===d.indexOf("second")&&f.addClass("u-hidden"),r.append(l),r.append(u),r.append(v),r.append(f),o.append(r),o}(c,n);d.innerHTML="",d.appendChild(s[0]),o&&d.classList.add(o)},onEnd:i}),e(d).on("countdownEnd",function(d){var n=e(d.target).closest(".card");n.addClass("card--disabled"),e(".js-cardActionText",n).text("Closed for enrollment")}),t<=0&&e(d).trigger("countdownEnd")}function a(){var d=e(".js-progress-ring");e.each(d,function(d,n){new Waypoint.Inview({element:e(n),entered:function(){var d,n=e(this.element).find('[class="card__progressBar js-bar"]');!function(e,d){var n=e.attr("r"),s=(100-d)/100*(Math.PI*(2*n));e.css({strokeDashoffset:s});var i=e.closest(".card");100===d&&(e.css({stroke:"#F5391E"}),i.addClass("disabled")),e.closest(".progress-ring-wrapper").find(".percentage-text").find(".number").data("percentage",d)}(n,(d=n.closest(".js-card").data("percentage-booked"),isNaN(d)&&(d=0),d<0&&(d=0),d>100&&(d=100),d))}})})}e(function(){var d;d=e("[id^=countdown-clock-]"),e.each(d,function(d,n){var s=e(n).closest(".js-card"),a=s.data("startTimestamp"),t=new Date(1e3*a);i(s.find("[id^=countdown-clock-]")[0],t,function(){s.addClass("card--disabled"),s.find(".js-cardActionText").text("Closed for enrollment")})}),a()})})});