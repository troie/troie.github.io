"use strict";function initApp(){require(["jquery","modules/pin","modules/datepicker","modules/button","modules/typography","modules/errLogger","modules/alert","modules/spinner","modules/cta","modules/form","modules/tooltip","modules/cookie","modules/layzrImage","foundation.core","foundation.abide","foundation.reveal","foundation.tab","components/header","components/offcanvas","components/headings","components/image","components/list","components/modal","components/outdatedNotification"],function(e,t,n,i,o,a,r,l,u,c,s,d){var f=1e3;function p(t){e(t.target).hasClass("reveal-modal--sticky")&&document.body.classList.add("body--noScroll")}function v(t){var n=e(t.target).find("textarea, input, select").filter(":visible");if(0!==n.length&&!(n.filter("[autofocus]").length>0)){var i=n.eq(0);if(i.length&&i.get(0).hasAttribute("value")){var o=i.val();i.val(""),i.val(o)}i.focus()}}function m(){var t=void 0;e("input, select, textarea","form[data-abide]").on("input",function(e){t&&clearInterval(t),t=setInterval(function(){!function(e){if(""===e.value)return;Foundation.libs.abide.validate([e],{type:""},!1)}(e.target),clearInterval(t)},f)})}e(function(){var a=e(document);Foundation.global.namespace="false",a.foundation({abide:{validate_on_blur:!0,focus_on_invalid:!0,timeout:f,validators:{email:function(e){return/^[^@]+@[^@]+$/i.test(e.value)}}}}).foundation(),a.on("opened.fndtn.reveal","[data-reveal]",v),a.on("open.fndtn.reveal","[data-reveal]",p),e("[data-auto-reveal]").foundation("reveal","open");var g,y,h=function(){for(var e=location.search.substring(1).split("&"),t={},n=0;n<e.length;n+=1){var i=e[n].split("="),o=i[0],a="";i.length>1&&(a=decodeURIComponent(i[1])),t[o]=a}return t}().showDialog;if(h){var b=e("#"+h);b.length&&b.foundation("reveal","open")}e(document).on("invalid.fndtn.abide",function(t){var n=t.target;e(n).find(".idf-spinner").removeClass("is-animating")}),e.ajaxSetup({crossDomain:!0,headers:{"X-CSRF-TOKEN":window.csrfToken}}),window.currentUser.isGuest()||require(["modules/sessionVerifier"],function(t){e(".js-requireVerify").on("click",function(n){n.preventDefault();var i=e(n.target);l().start(),t.requireUpToDateSession(function(){window.location.href=i.attr("href")},function(){l().stop()})})}),t.init(),n.init(),i.bindInteractiveButtons(),o.truncateMultiline(),u.init(),c.init(),s.applyTo(document.body),e(".-fit-cover-container").each(function(t,n){var i=e(n),o=i.find("img").prop("src");o&&i.css("backgroundImage","url("+o+")").addClass("-fit-cover-support")}),e(document).on("click","[data-navigate]",function(t){var n=e(t.target).closest("a");if(!t.ctrlKey&&!t.metaKey){t.preventDefault(),n.length&&(window.location=n.attr("href"),t.stopPropagation());var i=e(t.target).closest("[data-navigate]");window.location=i.data("navigate")}}),e("[data-alert]").each(function(t,n){var i=e(n);r[i.data("alert-type")](i.data("alert-message"),i.parent())}),e(".js-hidePanel").on("click",function(t){var n=e(t.target).parents(".js-panelHideable");n.trigger("idf.panel.hide"),n.css("display","none").trigger("idf.panel.hidden")}),e("ul.ranks").on("click",".rank-item",function(t){t.preventDefault();var n=void 0;n=e(t.target).is(".rank-item")?e(t.target).find("a.js-publicUrl").attr("href"):e(t.target).closest(".rank-item").find("a.js-publicUrl").attr("href"),window.location=n}),e("footer").foundation({abide:{validate_on_blur:!1}}),e(".js-print").on("click",function(){window.print()}),function(){if(!e(".ux-daily .article-content").length){var t=["video","iframe[src*=youtube]","iframe[src*=vimeo]"].join(", ");e(t).length&&require(["components/video"])}}(),(g=document.querySelectorAll(".js-confirmationRequired")).length&&require(["modules/confirmationDialog"],function(e){g.forEach(function(t){return e.openOnClick(t)})}),e("textarea.wysiwyg:visible, .click-wysiwyg:visible, .wysiwyg--force").length&&require(["modules/wysiwyg"],function(e){e.init()}),m(),y="20180520",window.currentUser.isGuest()&&d.read("acceptedPolicyRevision")!==y&&document.body.classList.contains("js-layout--default")&&require(["modules/cookieNotice"],function(e){return e.show(y)})})})}!function(){try{new Function("async () => {}")()}catch(e){return void require(["//cdn.polyfill.io/v2/polyfill.min.js?features="+["default","fetch","Array.prototype.find","Array.prototype.findIndex"].join(",")],function(){return require(["require.config"],initApp)})}require(["require.config"],initApp)}();
//# sourceMappingURL=app.js.map
