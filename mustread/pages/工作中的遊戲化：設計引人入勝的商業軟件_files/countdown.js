"use strict";var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}define([],function(){return function(){function e(t){_classCallCheck(this,e);var n={dateStart:new Date,dateEnd:new Date((new Date).getTime()+864e5),onStart:null,onTick:null,onEnd:null,selfInitialize:!0,interval:1e3};this.config=Object.assign({},n,t),this.started=!1,this.interval=this.config.interval,!1!==this.config.selfInitialize&&this.initialize()}return _createClass(e,null,[{key:"CONVERSION_TABLE",get:function(){return{weeks:604800,days:86400,hours:3600,minutes:60,seconds:1}}}]),_createClass(e,[{key:"initialize",value:function(){this.isOver()?this.callback("end"):this.run()}},{key:"isStarted",value:function(){return e.seconds(new Date)>=e.seconds(this.config.dateStart)}},{key:"isOver",value:function(){return e.seconds(new Date)>=e.seconds(this.config.dateEnd)}},{key:"run",value:function(){var t=this,n=Math.abs(e.seconds(this.config.dateEnd)-e.seconds(new Date));this.isStarted()&&this.display(n);var i=window.setInterval(function(){(n-=t.interval/1e3)<=0?(window.clearInterval(i),t.callback("end")):t.isStarted()&&(t.started||(t.callback("start"),t.started=!0),t.display(n))},this.interval)}},{key:"display",value:function(t){var n={},i=Object.keys(e.CONVERSION_TABLE),a=void 0;i.forEach(function(i){var s=e.CONVERSION_TABLE[i];a=Math.floor(t/s),t-=a*s,n[i]=a}),null!==this.config.onTick&&this.config.onTick(n,this)}},{key:"callback",value:function(e){var t="on"+this._capitalizeString(e);"function"==typeof this.config[t]&&this.config[t]()}},{key:"_capitalizeString",value:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}}],[{key:"seconds",value:function(e){return e.getTime()/1e3}}]),e}()});
//# sourceMappingURL=countdown.js.map
